<template bindable="model, new, edit, remove">
	<require from="setting-panels/user-settings"></require>
	<require from="resources/elements/modal"></require>
	<require from="resources/elements/feedback-button"></require>
	<!-- New User Dialog -->
	<modal open.one-way-out="new" options.bind="{ keyboard: true, backdrop: 'static' }" -model.bind="{}"
		title="Create a new user">
		<template replace-part="body">
			<user-settings new.bind="true" user.bind="model" validate.bind="$parent.validate"></user-settings>
		</template>
		<template replace-part="footer">
			<button type="button" class="btn btn-success"
				click.delegate="check($this, $parent.validate, $parent.resolve)" style="float: left">Create</button>
			<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
		</template>
		<template replace-part="fade">
		</template>
	</modal>
	<!-- Edit User Dialog -->
	<modal open.one-way-out="edit" options.bind="{ keyboard: true, backdrop: 'static' }" -model.bind="model"
		title="Edit user">
		<template replace-part="body">
			<user-settings new.bind="false" user.bind="model" validate.bind="$parent.validate"></user-settings>
		</template>
		<template replace-part="footer">
			<button type="button" class="btn btn-warning"
				click.delegate="check($this, $parent.validate, $parent.resolve)" style="float: left">Save</button>
			<button type="button" class="btn btn-danger" data-dismiss="modal" click.delegate="remove({$model:$this})">Delete</button>
			<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
		</template>
		<template replace-part="fade">
		</template>
	</modal>
</template>
